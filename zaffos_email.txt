

Hi Steve,

 

Here are some notes and a copy of the database.

 

Installation:

# created with the following terminal command, I figured you can use this to look up pg_dump online if you have questions

`pg_dump -C -O -x -d storymap > storymap.sql`

# you should be able to restore it with the following command, assuming you have postgres and postgis installed.

`psql < storymap.sql`

 

 

API Routes/Draft:

 

# I include 5 API parameters for the initial /metadata route: map_id, name, creator, map_link, and all. I also put what the equivalent SQL query should be so you can visualize the desired output/behavior for each.

 

Example Query 1:

xxxx:8080/api/v1/metadata?map_id=1

Return:

SELECT * FROM api_tables.storymap_metadata WHERE map_id = 1

 

Example Query 2:

xxxx:8080/api/v1/metadata?name=San%20Pedro

Return:

SELECT * FROM api_tables.storymap_metadata WHERE name ILIKE ‘San Pedro’

 

Example Query 3:

xxxx:8080/api/v1/metadata?creator=Arizona

Return:

SELECT * FROM api_tables.storymap_metadata WHERE creator ILIKE ‘Arizona’

 

Example Query 4:

xxxx:8080/api/v1/metadata?map_link=https://uagis.maps.arcgis.com/apps/MapTour/index.html?appid=f38ab272e58840129d3da6f5eceaac51

Return:

SELECT * FROM api_tables.storymap_metadata WHERE map_link = ‘https://uagis.maps.arcgis.com/apps/MapTour/index.html?appid=f38ab272e58840129d3da6f5eceaac51’

 

Example Query 5:

xxxx:8080/api/v1/metadata?all

Return:

SELECT * FROM api_tables.storymap_metadata

 

 

I think this should be good to start.

 

Let me know,

Andrew

